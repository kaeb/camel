<div class="list-view">
  <h1>Features</h1>
  <div ng-if="!$ctrl.loading">
    <pf-toolbar config="$ctrl.toolbarConfig"></pf-toolbar>
    <pf-list-view items="$ctrl.listItems"
                  config="$ctrl.listConfig"
                  action-buttons="$ctrl.listItemActionButtons"
                  enable-button-for-item-fn="$ctrl.enableButtonForItem">
      <div class="list-view-pf-description">
        <div class="list-view-pf-left">
          <span class="list-view-pf-icon-sm fa"
                ng-class="{'list-view-pf-icon-success fa-check': item.installed}"
                title="Feature {{item.id}} {{item.getState()}}">
          </span>
        </div>
        <div class="list-group-item-heading"><a ng-href=osgi/feature/{{item.id}}>{{item.id}}</a></div>
      </div>
      </pf-list-view>
  </div>

  <script type="text/ng-template" id="addRepositoryDialog.html">
    <form name="addProperty" class="form-horizontal">
      <div class="modal-header">
        <button type="button" class="close" aria-label="Close" ng-click="$dismiss()">
          <span class="pficon pficon-close" aria-hidden="true"></span>
        </button>
        <h4>Add feature repository</h4>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="col-sm-3 control-label" for="repositoryUri">Repository URI</label>
          <div class="col-sm-9">
            <input type="text" class="form-control" id="repositoryUri" ng-model="$ctrl.repositoryUri" placeholder="mvn:foo/bar/1.0/xml/features" required>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" ng-click="$dismiss()">Cancel</button>
        <button type="submit" class="btn btn-primary" ng-click="$close()">Add</button>
      </div>
    </form>
  </script>

  <script type="text/ng-template" id="removeRepositoryDialog.html">
    <form name="addProperty" class="form-horizontal">
      <div class="modal-header">
        <button type="button" class="close" aria-label="Close" ng-click="$dismiss()">
          <span class="pficon pficon-close" aria-hidden="true"></span>
        </button>
        <h4>Remove feature repository</h4>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label class="col-sm-3 control-label" for="repository">Repository</label>
          <div class="col-sm-9">
            <select ng-model="$ctrl.selectedRepository" ng-options="repository.name for repository in $ctrl.repositories" required></select>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" ng-click="$dismiss()">Cancel</button>
        <button type="submit" class="btn btn-primary" ng-click="$close()">Remove</button>
      </div>
    </form>
  </script>
  <div class="spinner spinner-lg loading-page" ng-if="$ctrl.loading"></div>
</div>
